% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/models.R
\name{dynamical_censoring_adjusted_delay}
\alias{dynamical_censoring_adjusted_delay}
\title{Estimate delays from the backward delay distribution + brms}
\usage{
dynamical_censoring_adjusted_delay(
  formula = brms::bf(delay_lwr | cens(censored, delay_upr) ~ 1, sigma ~ 1),
  data,
  data_cases,
  fn = brms::brm,
  family = "lognormal",
  scode_tparameters =
    "\\n      array[tlength] real cdenom;\\n  \\n      cdenom[1] = 0;\\n  \\n      for (i in 2:tlength) {\\n        cdenom[i] = 0;\\n        for (j in 1:(i-1)) {\\n          if (j==1) {\\n            cdenom[i] += \\n              exp(lognormal_lcdf(j | Intercept, exp(Intercept_sigma)) +\\n                log_cases[i-j]);\\n          } else {\\n            cdenom[i] += \\n              exp(\\n                log_diff_exp(\\n                  lognormal_lcdf(j | Intercept, exp(Intercept_sigma)), \\n                  lognormal_lcdf(j - 1 | Intercept, exp(Intercept_sigma))\\n                ) + \\n                log_cases[i-j]\\n              );\\n          }\\n        }\\n      }\\n    ",
  scode_model =
    "\\n      if (!prior_only) {\\n        for (i in 1:N) {\\n          target += - log(cdenom[stime_daily[i] - tmin + 1]);\\n        }\\n      }\\n    ",
  ...
)
}
\arguments{
\item{data_cases}{data frame consisting of integer time column and incidence
column}
}
\description{
Estimate delays from the backward delay distribution + brms
}
