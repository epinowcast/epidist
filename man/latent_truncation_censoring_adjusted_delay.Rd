% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/models.R
\name{latent_truncation_censoring_adjusted_delay}
\alias{latent_truncation_censoring_adjusted_delay}
\title{Estimate delays adjusted for right truncation and censoring using a
latent model}
\usage{
latent_truncation_censoring_adjusted_delay(
  formula = brms::bf(ptime_lwr | vreal(ptime_upr, stime_lwr, stime_upr, obs_at) ~ 1,
    sigma ~ 1),
  data,
  fn = brms::brm,
  family = brms::custom_family("latent_lognormal", dpars = c("mu", "sigma"), links =
    c("identity", "log"), lb = c(NA, 0), ub = c(NA, NA), type = "real", vars = c("delay",
    "obs_time"), loop = FALSE),
  scode_functions =
    "\\n  real latent_lognormal_lpdf(vector y, vector mu, vector sigma, vector delay, vector obs_time) {\\n    return lognormal_lpdf(delay | mu, sigma) - lognormal_lcdf(obs_time | mu, sigma);\\n    }\\n  ",
  scode_parameters =
    "\\n    vector<lower=0, upper=1>[N] pwindow;\\n    vector<lower=0, upper=1>[N] swindow;\\n  ",
  scode_tparameters =
    "\\n    vector[N] ptime;\\n    vector[N] stime;\\n    vector[N] delay;\\n    vector[N] obs_time;\\n    \\n    ptime = pwindow .* (to_vector(vreal1)-Y) + Y;\\n    stime = swindow .* (to_vector(vreal3)-to_vector(vreal2)) + to_vector(vreal2);\\n    delay = stime - ptime;\\n    obs_time = to_vector(vreal4) - ptime;\\n  ",
  scode_prior = "\\n    pwindow ~ uniform(0, 1);\\n    swindow ~ uniform(0, 1);\\n  ",
  ...
)
}
\description{
Estimate delays adjusted for right truncation and censoring using a
latent model
}
