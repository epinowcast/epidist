% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/models.R
\name{exponential_delay}
\alias{exponential_delay}
\title{Estimate delays adjusted for epidemic growth rate}
\usage{
exponential_delay(
  formula = brms::bf(delay_daily | vreal(r, max_delay) ~ 1, sigma ~ 1),
  data,
  fn = brms::brm,
  family = brms::custom_family("exponential_lognormal", dpars = c("mu", "sigma"), links =
    c("identity", "log"), lb = c(NA, 0), ub = c(NA, NA), type = "real", vars =
    c("vreal1[n]", "vreal2[n]", "x_r", "x_i")),
  scode_functions =
    "\\n  real denom(real x, real xc, real[] theta,\\n                      real[] x_r, int[] x_i) {\\n    real r = theta[1];\\n    real mu = theta[2];\\n    real sigma = theta[3];\\n    \\n    return exp(lognormal_lpdf(x | mu, sigma) - r * x);                    \\n  }\\n  \\n  real exponential_lognormal_lpdf(real y, real mu, real sigma, real r,\\n                             real max_delay, data real[] x_r, data int[] x_i) {\\n    // it looks like we can skip - r * y because that's just a contant value???\\n    return lognormal_lpdf(y | mu, sigma) - log(integrate_1d(denom, 0, max_delay, {r, mu, sigma}, x_r, x_i, 1e-4));\\n  }\\n  ",
  scode_tdata = "\\n  real x_r[0]; \\n  int x_i[0];\\n  ",
  ...
)
}
\description{
Estimate delays adjusted for epidemic growth rate
}
